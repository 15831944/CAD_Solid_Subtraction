# Тестовая работа по САПР, вычитание кинематического тела из параллелепипеда

Task text in English and its solution are available [on the link](README.md).

## Описание задачи

Трёхмерное евклидово облако точек, выровненное по направлениям главной оси *(x, y, z)* и в сетке с постоянным расстоянием (рисунок 1), начиная с заданной контрольной точки (точка с индексами *0, 0, 0* находится в контрольной точке), пересекается движением сферы (рисунок 2), где путь центра сферы определяется пользовательской функцией *x = f(t),* где *t* находится в интервале между *t0* и *t1.* Функция *f(t)* может обрабатываться как дискретная функция с заданным пользователем значением *∆t.* Точки, которые пересекаются с движением сферы, считаются удаленными (рисунок 3 посередине).

Только первый слой точек (который остается видимым / не удалённым) при взгляде сверху должен быть записан в файл как данные ASCII (наружный слой облака точек при взгляде свержу, см. Рисунок 3 справа). Формат файла определяется следующим образом:

- Каждая строка содержит одну точку.
- Определение точки содержит *x, y* и *z* координаты, разделённые символом пробела.
- Каждая строка оканчивается символом новой строки.

### Иллюстрации

![Иллюстрации к задаче](/pictures/01_Task_Illustrations.png)

### Дано

- Класс точки для определения точки в трёхмерном пространстве и (некоторые) методы векторной алгебры.
- Функция тестирования верхнего уровня ```CreateSkin(. . .)``` (в файле ```src/CreateSkin.cpp```) для проверки полученного компонента. Она также определяет интерфейс компонента, который должен быть написан.
- Программа с названием 'PointVisualizer' (смотрите файлы ```tools/PointVisualizer_*```), с помощью которой вы можете увидеть полученный вами результат в трёхмерном пространстве.

### Советы

- Настоятельно рекомендуется использовать векторную алгебру (скалярное произведение, векторное произведение и т. п.). Использование функций sin и cos нежелательно.
- Скорость вычислений и объем занимаемой памяти важны, но второстепенны по сравнению с ясно читаемым кодом. Например, сфера, линейное движение сферы, запись точек и т. п. могут быть смоделированы как классы. Предпочитайте компактные классы и функции большим классам и функциям.
- Приветствуются комментарии в исходном коде. Пожалуйста, используйте *хорошие* имена для классов и функций.
- Перемещение сферы между *f(t)* и *f(t + ∆t)* может быть рассмотрено как линейное перемещение центра сферы.

## Решение задачи

Относительно данного задания заданное облако точек можно рассматривать как некоторое геометрическое тело, ограниченное параллелепипедом размерностью *nX x nY x nZ,*  расположенного в пространстве с точной привязки *referencePoint* и заполненного точками заданной кристаллической решётки.

![Parallelepiped](/pictures/02_Parallelepiped.png)

При движении заданной сферы вдоль произвольной пользовательской функции *f(t)* мы получаем тело движения, или кинематическое тело.

![Kinematic solid](/pictures/03_Kinematic_Solid.png)

Далее нужно выполнить булеву операцию вычитания полученного кинематического тела *K* из исходного параллелепипеда *P.* В итоге мы получим новое тело *P` = P − K.*

![Substracted solid](/pictures/04_Subtraction.png)

И далее нужно из полученного тела *P`* оставить только самые верхние точки, то есть те, у которых значение координат по оси *Z* самое большее.

![Skin from substracted solid](/pictures/05_Skin_01.png) ![Skin from substracted solid](/pictures/06_Skin_02.png)

### Использованная литература

- Голованов Н. Н. Геометрическое моделирование. — М.: Издательство Физико-математической литературы, 2002.

### Код решения

Код решения с использованием C++ и векторной алгебры представлен в файлах ```src/TaskSolution.hpp``` и ```src/TaskSolution.cpp```.

CMake используется для сборки проекта, по этой причине был создан файл ```CMakeLists.txt```.

### Сборка проекта

Выполните следующие команды для сборки проекта:

```
mkdir ./build
cd ./build
cmake ..
cmake --build .
```
